<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 3 R para iniciantes | R Zero - do simples ao complexo</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 3 R para iniciantes | R Zero - do simples ao complexo" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 3 R para iniciantes | R Zero - do simples ao complexo" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Diogo J. A. Silva" />


<meta name="date" content="2023-12-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="pré-requisitos.html"/>
<link rel="next" href="como-trabalhar-no-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Bem-vindos</a></li>
<li class="chapter" data-level="2" data-path="pré-requisitos.html"><a href="pré-requisitos.html"><i class="fa fa-check"></i><b>2</b> Pré-requisitos</a>
<ul>
<li class="chapter" data-level="2.1" data-path="pré-requisitos.html"><a href="pré-requisitos.html#instalando-r-e-rstudio"><i class="fa fa-check"></i><b>2.1</b> Instalando R e RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html"><i class="fa fa-check"></i><b>3</b> R para iniciantes</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#entendendo-o-rstudio"><i class="fa fa-check"></i><b>3.1</b> Entendendo o RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#objetos-vetores-e-funções"><i class="fa fa-check"></i><b>3.2</b> Objetos, vetores e funções</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#objetos"><i class="fa fa-check"></i><b>3.2.1</b> Objetos</a></li>
<li class="chapter" data-level="3.2.2" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#vetores"><i class="fa fa-check"></i><b>3.2.2</b> Vetores</a></li>
<li class="chapter" data-level="3.2.3" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#funções"><i class="fa fa-check"></i><b>3.2.3</b> Funções</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#tabela-de-dados"><i class="fa fa-check"></i><b>3.3</b> Tabela de dados</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#data-frame"><i class="fa fa-check"></i><b>3.3.1</b> Data frame</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#planilha-de-dados-nativa-do-r"><i class="fa fa-check"></i><b>3.3.2</b> Planilha de dados nativa do R</a></li>
<li class="chapter" data-level="3.3.3" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#importando-sua-planilha"><i class="fa fa-check"></i><b>3.3.3</b> Importando sua planilha</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#graficos"><i class="fa fa-check"></i><b>3.4</b> Graficos</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#grafico-de-histograma"><i class="fa fa-check"></i><b>3.4.1</b> Grafico de histograma</a></li>
<li class="chapter" data-level="3.4.2" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#grafico-de-dispersao"><i class="fa fa-check"></i><b>3.4.2</b> Grafico de dispersao</a></li>
<li class="chapter" data-level="3.4.3" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#grafico-boxplot"><i class="fa fa-check"></i><b>3.4.3</b> Grafico boxplot</a></li>
<li class="chapter" data-level="3.4.4" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#grafico-de-barras"><i class="fa fa-check"></i><b>3.4.4</b> Grafico de barras</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="r-para-iniciantes.html"><a href="r-para-iniciantes.html#pacotes"><i class="fa fa-check"></i><b>3.5</b> Pacotes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="como-trabalhar-no-r.html"><a href="como-trabalhar-no-r.html"><i class="fa fa-check"></i><b>4</b> Como trabalhar no R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="como-trabalhar-no-r.html"><a href="como-trabalhar-no-r.html#criando-um-projeto-de-r"><i class="fa fa-check"></i><b>4.1</b> Criando um projeto de R</a></li>
<li class="chapter" data-level="4.2" data-path="como-trabalhar-no-r.html"><a href="como-trabalhar-no-r.html#organizando-o-projeto-de-r"><i class="fa fa-check"></i><b>4.2</b> Organizando o projeto de R</a></li>
<li class="chapter" data-level="4.3" data-path="como-trabalhar-no-r.html"><a href="como-trabalhar-no-r.html#trabalhando-em-um-projeto-de-r"><i class="fa fa-check"></i><b>4.3</b> Trabalhando em um projeto de R</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="como-trabalhar-no-r.html"><a href="como-trabalhar-no-r.html#etapa-1-limpar-dados"><i class="fa fa-check"></i><b>4.3.1</b> Etapa 1: limpar dados</a></li>
<li class="chapter" data-level="4.3.2" data-path="como-trabalhar-no-r.html"><a href="como-trabalhar-no-r.html#etapa-2-fazer-analise"><i class="fa fa-check"></i><b>4.3.2</b> Etapa 2: fazer analise</a></li>
<li class="chapter" data-level="4.3.3" data-path="como-trabalhar-no-r.html"><a href="como-trabalhar-no-r.html#etapa-3-criar-grafico"><i class="fa fa-check"></i><b>4.3.3</b> Etapa 3: criar grafico</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="git-e-github.html"><a href="git-e-github.html"><i class="fa fa-check"></i><b>5</b> Git e GitHub</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Zero - do simples ao complexo</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-para-iniciantes" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Capítulo 3</span> R para iniciantes<a href="r-para-iniciantes.html#r-para-iniciantes" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Caro iniciante, meu objetivo aqui é mostrar que utilizar o R é muito divertido e recompensador. Você vai perceber que cada código rodado (e que funciona) vai te dar um pouquinho de dopamina e uma sensação de prazer. Claro que alguns erros vão te deixar maluco, mas você vai perceber que tudo é culpa sua. Mas não se preocupe, se é culpa sua, você pode consertá-los facilmente :)</p>
<p>A tendência é que quanto mais você utiliza o R, mais fácil sua vida se torna, e apesar da curva de aprendizagem ser um pouco desestimuladora, é 1000 vezes recompensadora. Como alguns gostam de dizer, você conseguirá fazer um gráfico até 30 vezes mais rápido!!! Não sei de onde veio esse cálculo, mas se está na internet é verdade.</p>
<div id="entendendo-o-rstudio" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Entendendo o RStudio<a href="r-para-iniciantes.html#entendendo-o-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Tudo que iremos fazer será através do R Studio devido à organização que ele nos fornece. O RStudio eh uma roupagem para o R, que nos fornece um ambiente de trabalho mais amigavel e organizado. Se voce seguiu as instrucoes de instalacao corretamente, voce tera dois icones, o do R base e o do RStudio. Vamos abrir o programa RStudio dando dois cliques sobre seu icone (Figura 1).</p>
<div class="float">
<img src="img/rstudio_logo.png" width="200" alt="Figura 1. Icone do RStudio" />
<div class="figcaption">Figura 1. Icone do RStudio</div>
</div>
<p>Ao abrir o R Studio, você verá o seguinte:
<img src="img/cara_do_rstudio1.png" alt="Figura 2. Tela do RStudio" /></p>
<p>Não tem a aparência convencional dos programas estatísticos, mas isso acontece porque não se realizam tarefas clicando em abas ou botões. No R Studio, você executa comandos por meio de códigos! No futuro, é provável que exista um programa com o qual você poderá conversar em qualquer idioma e ele realizará as tarefas que você pedir. Nao, pera, isso ja existe! Se chama inteligencia artificial! Entretanto, nao se deixe enganar. Os conhecimentos intimos de como pensar, organizar, analisar e mostrar seus dados sao importantissimos para todo um projeto cientifico. Mas se isso nao te convence, as melhores inteligencias artificiais do mercado sao pagas e podem te retornar resultados enganosos. Entao tenha muito cuidado e utilize as inteligencias artificiais disponiveis apenas como uma ferramenta auxiliar!</p>
<p>Vamos ao que importa e entender como o R funciona. O R possui uma linguagem, e tudo que voce vai fazer no R eh utilizando essa linguagem que sao verdadeiros comandos. Importe essa planilha! Crie esse grafico! Faca a media dessa variavel! E por ai vai. Entao vamos dar o nosso primeiro comando para o R e falar diretamente com ele. Pediremos que ele some 1 + 1, e para fazer isso iremos digitar 1 + 1 no console (Figura 2 - janela 2) e apertar a tecla “Enter”.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="r-para-iniciantes.html#cb1-1" tabindex="-1"></a><span class="dv">1</span><span class="sc">+</span><span class="dv">1</span></span></code></pre></div>
<p>Ao fazer isso, ele vai te retornar o valor 2. Voce pode utilizar o R como uma calculadora e e realizar as operacoes basicas normalmente. Agora vamos pedir para ele diminuir 10 - 5, digitando no console e dando enter. Perceba que nao faz diferenca se voce digitar 10-5, 10 - 5, 10-5, ou ate mesmo 10 -5. Mas claro que ao escrever codigos iremos utilizar a forma que mantem o codigo mais organizado. Minha sugestao eh utilizar 10 - 5.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="r-para-iniciantes.html#cb2-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">-</span> <span class="dv">5</span></span></code></pre></div>
<p>Agora vamos pedir para ele multiplicar:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="r-para-iniciantes.html#cb3-1" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span></span></code></pre></div>
<p>E dividir:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="r-para-iniciantes.html#cb4-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">/</span> <span class="dv">2</span></span></code></pre></div>
<p>Voce pode encontrar como realizar potenciacao, raiz quadrada, entre outras coisas pesquisando facilmente na internet. Essa eh uma das vantagens do R. Ser gratuito, possuir codigo aberto, e uma comunidade altamente ativa, torna o R unico. Ao longo do livro voce encontrara alguns topicos onde eu peco para voce realizar pequenas tarefas para voce compreender o codigo e desenvolver autonomia.</p>
<ul>
<li>Pesquise como realizar potenciacao no R e calcule 2 elevado a 2.
<em>Dica: voce pode utilizar o chatgpt.</em></li>
</ul>
<p>Massa! Mas voce deve concordar comigo que essa forma de conversar com o R nao eh muito eficiente. Apesar de mostrar o historico, se voce quiser realizar a primeira operacao que fizemos (1 + 1), voce precisara digitar de novo, e de novo sempre que quiser fazer algo. Por esse motivo, a janela de script (Figura 2 - janela 1) se torna tao importante.</p>
<p>Vamos criar um script e utiliza-lo em uma situacao pratica. Mas antes precisamos aprender mais alguns botoes. Veja a figura abaixo:</p>
<p><img src="img/Figura3_script.png" alt="Figura 3. Script" />
Vamos criar um novo Script clicando no <strong>botao “A” &gt; New Script</strong>. No Script, podemos digitar livremente sem que o codigo seja executado, inclusive podemos fazer comentarios utilizando o simbolo <strong>#</strong> antes do que foi digitado. Podemos dar enter sem enviar o codigo para o R. O codigo apenas sera executado se clicarmos na linha do codigo e apertarmos o botao “C” (Run) ou <strong>Ctrl + Enter</strong>. Copie e cole o codigo abaixo no seu script e execute apertando Ctrl + Enter linha por linha. Perceba que a # impede do nome Script ser executado. Se voce executar Script sem a # o R nao vai entender e vai dar erro.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="r-para-iniciantes.html#cb5-1" tabindex="-1"></a><span class="co">#Script</span></span>
<span id="cb5-2"><a href="r-para-iniciantes.html#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="r-para-iniciantes.html#cb5-3" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb5-4"><a href="r-para-iniciantes.html#cb5-4" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb5-5"><a href="r-para-iniciantes.html#cb5-5" tabindex="-1"></a><span class="dv">10</span><span class="sc">/</span><span class="dv">2</span></span>
<span id="cb5-6"><a href="r-para-iniciantes.html#cb5-6" tabindex="-1"></a><span class="dv">5</span><span class="sc">+</span><span class="dv">5-2</span><span class="sc">/</span><span class="dv">2</span></span>
<span id="cb5-7"><a href="r-para-iniciantes.html#cb5-7" tabindex="-1"></a></span>
<span id="cb5-8"><a href="r-para-iniciantes.html#cb5-8" tabindex="-1"></a><span class="co">#Fim</span></span></code></pre></div>
<p>O comentario tambem pode ser feito na mesma linha depois do codigo, e assim, utilizar comentarios para explicar o que o codigo faz.</p>
<pre><code>2*50 #Esse codigo realiza uma multiplicacao.</code></pre>
<p>Por fim, voce pode salvar o Script para acessa-lo sempre que quiser clicando no <strong>botao “B”</strong> e selecionando um local no computador.</p>
</div>
<div id="objetos-vetores-e-funções" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Objetos, vetores e funções<a href="r-para-iniciantes.html#objetos-vetores-e-funções" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="objetos" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Objetos<a href="r-para-iniciantes.html#objetos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uma das funcoes mais importantes do R eh a capacidade de armazenar valores em objetos. Por exemplo, podemos dizer que o numero 1 sera atribuido a letra <strong>“a”</strong>, e para isso utilizamos o sinal de igual (=). O “<strong>a</strong>” agora eh considerado um objeto e ira aparecer na janela de Environment (Figura 2 - janela 3).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="r-para-iniciantes.html#cb7-1" tabindex="-1"></a><span class="co"># Mini Script  </span></span>
<span id="cb7-2"><a href="r-para-iniciantes.html#cb7-2" tabindex="-1"></a>a <span class="ot">=</span> <span class="dv">1</span>  </span>
<span id="cb7-3"><a href="r-para-iniciantes.html#cb7-3" tabindex="-1"></a>b <span class="ot">=</span> <span class="dv">2</span>  </span></code></pre></div>
<p>Entretanto, o sinal de atribuicao mais utilizado eh a setinha (&lt;-), devido a sua direcionalidade. Entao vamos adotar esse simbolo de atribuicao. Entao guarde isso na sua cabecinha: o codigo <strong>&lt;-</strong> significa <strong>atribuir</strong>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="r-para-iniciantes.html#cb8-1" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="co"># c recebe 3</span></span>
<span id="cb8-2"><a href="r-para-iniciantes.html#cb8-2" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co"># atribuimos 5 ao d</span></span></code></pre></div>
<p>Se voce esta copiando e colocando os codigos do livro no seu script, e apertando <strong>Ctrl + Enter</strong> em cada linha. Voce criou quatro objetos atraves das atribuicoes. Objetos a, b, c, d. Mas voce so recebera o seu respectivo valor se voce digitar o objeto e executa-lo com Ctrl + Enter.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="r-para-iniciantes.html#cb9-1" tabindex="-1"></a>a</span>
<span id="cb9-2"><a href="r-para-iniciantes.html#cb9-2" tabindex="-1"></a>b</span>
<span id="cb9-3"><a href="r-para-iniciantes.html#cb9-3" tabindex="-1"></a>c</span>
<span id="cb9-4"><a href="r-para-iniciantes.html#cb9-4" tabindex="-1"></a>d</span></code></pre></div>
<p>Com esses objetos podemos realizar operacoes matematicas.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="r-para-iniciantes.html#cb10-1" tabindex="-1"></a><span class="co">#Operacoes com objetos</span></span>
<span id="cb10-2"><a href="r-para-iniciantes.html#cb10-2" tabindex="-1"></a></span>
<span id="cb10-3"><a href="r-para-iniciantes.html#cb10-3" tabindex="-1"></a>a <span class="sc">+</span> b</span>
<span id="cb10-4"><a href="r-para-iniciantes.html#cb10-4" tabindex="-1"></a>c <span class="sc">*</span> d</span>
<span id="cb10-5"><a href="r-para-iniciantes.html#cb10-5" tabindex="-1"></a>b<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb10-6"><a href="r-para-iniciantes.html#cb10-6" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> d</span>
<span id="cb10-7"><a href="r-para-iniciantes.html#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="r-para-iniciantes.html#cb10-8" tabindex="-1"></a><span class="co">#Fim</span></span></code></pre></div>
<p><em>Nesse momento, nobre leitor, eu espero que voce esteja realizando diferentes operacoes matematicas, utilizando diferentes atribuicoes.</em></p>
<p>Podemos atribuir valores em palavras inteiras. Como por exemplo, atribuir 10 ao objeto chamado “nota” (ou qualquer outra palavra).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="r-para-iniciantes.html#cb11-1" tabindex="-1"></a>nota <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb11-2"><a href="r-para-iniciantes.html#cb11-2" tabindex="-1"></a>Nota <span class="ot">&lt;-</span> <span class="dv">0</span></span></code></pre></div>
<p>Perceba que o R detecta as diferencas entre letras maiusculas e minusculas. Portanto, “nota” eh diferente de “Nota”. Muito cuidado com isso. Para evitar erros, sugiro sempre utilizar letras minusculas.</p>
<p>Alguns simbolos nao podem ser utilizados para criar objetos, uma vez que eles sao reservados no R. Como por exemplo o “-”, ou TRUE / FALSE. Perceba que ao rodar os codigos abaixo, o R ira retornar um erro.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="r-para-iniciantes.html#cb12-1" tabindex="-1"></a><span class="cn">FALSE</span> <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb12-2"><a href="r-para-iniciantes.html#cb12-2" tabindex="-1"></a><span class="cn">TRUE</span> <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb12-3"><a href="r-para-iniciantes.html#cb12-3" tabindex="-1"></a>guarda<span class="sc">-</span>chuva <span class="ot">&lt;-</span> <span class="dv">2</span></span></code></pre></div>
<p>Tambem podemos atribuir uma equacao inteira a um objeto. Na verdade podemos atribuir quase tudo a um objeto, graficos, resultados, planilhas, etc. Mas isso veremos mais a frente.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="r-para-iniciantes.html#cb13-1" tabindex="-1"></a><span class="co">#Note que o underline (_) funciona bem para separar palavras, assim como ponto (.)</span></span>
<span id="cb13-2"><a href="r-para-iniciantes.html#cb13-2" tabindex="-1"></a>guarda_chuva <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span><span class="dv">10</span><span class="sc">/</span><span class="dv">2</span></span>
<span id="cb13-3"><a href="r-para-iniciantes.html#cb13-3" tabindex="-1"></a>guarda_chuva</span>
<span id="cb13-4"><a href="r-para-iniciantes.html#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="r-para-iniciantes.html#cb13-5" tabindex="-1"></a>guarda.roupa <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span><span class="dv">100</span><span class="sc">/</span><span class="dv">10</span></span>
<span id="cb13-6"><a href="r-para-iniciantes.html#cb13-6" tabindex="-1"></a>guarda.roupa</span></code></pre></div>
<p>Alem disso tudo, podemos atribuir um texto a um objeto. Mas para isso o texto precisa estar entre aspas.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="r-para-iniciantes.html#cb14-1" tabindex="-1"></a><span class="co">#Atribuindo a palavra &quot;coxinha&quot; ao objeto melhor_comida</span></span>
<span id="cb14-2"><a href="r-para-iniciantes.html#cb14-2" tabindex="-1"></a>melhor_comida <span class="ot">&lt;-</span> <span class="st">&quot;coxinha&quot;</span></span>
<span id="cb14-3"><a href="r-para-iniciantes.html#cb14-3" tabindex="-1"></a>melhor_comida</span></code></pre></div>
<p>Mas para o que serve tudo isso? Para que aprender essas coisas? A resposta principal eh a capacidade de automatizacao e reprodutibilidade das suas analises.</p>
<p>Vamos criar um exemplo pratico para fixar conceitos. Vamos imaginar que queremos calcular quanto gastamos de aluguel por mes e ano, considerando que pagamos o aluguel semanalmente. Vamos supor que o aluguel por semana seja 200 reais.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="r-para-iniciantes.html#cb15-1" tabindex="-1"></a><span class="co">#Calculando o aluguel</span></span>
<span id="cb15-2"><a href="r-para-iniciantes.html#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="r-para-iniciantes.html#cb15-3" tabindex="-1"></a>aluguel_semana <span class="ot">&lt;-</span> <span class="dv">200</span>              <span class="co">#valor do aluguel por semana</span></span>
<span id="cb15-4"><a href="r-para-iniciantes.html#cb15-4" tabindex="-1"></a>aluguel_mes <span class="ot">&lt;-</span> <span class="dv">4</span> <span class="sc">*</span> aluguel_semana  <span class="co">#considerando que 1 mes possui 4 semanas.</span></span>
<span id="cb15-5"><a href="r-para-iniciantes.html#cb15-5" tabindex="-1"></a>aluguel_ano <span class="ot">&lt;-</span> <span class="dv">12</span> <span class="sc">*</span> aluguel_mes    <span class="co">#o ano possui 12 meses eh serio</span></span>
<span id="cb15-6"><a href="r-para-iniciantes.html#cb15-6" tabindex="-1"></a></span>
<span id="cb15-7"><a href="r-para-iniciantes.html#cb15-7" tabindex="-1"></a>aluguel_semana</span>
<span id="cb15-8"><a href="r-para-iniciantes.html#cb15-8" tabindex="-1"></a>aluguel_mes</span>
<span id="cb15-9"><a href="r-para-iniciantes.html#cb15-9" tabindex="-1"></a>aluguel_ano</span></code></pre></div>
<p>Veja que massa! Criamos um script para calcular o valor do aluguel por mes e ano. Com esse script, voce pode calcular facilmente diferentes situacoes, simulando diferentes valores de aluguel. Para isso, eh so alterar o valor 200 de aluguel_semana para o valor desejado e rodar linha por linha.</p>
<ul>
<li><em>Substititua “aluguel_semana &lt;- 200” por “aluguel_semana &lt;- 247.53</em>”</li>
</ul>
<p>Se voce pode fazer isso para calcular o aluguel, imagina o que esse sistema pode fazer com sua analise de dados.</p>
</div>
<div id="vetores" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Vetores<a href="r-para-iniciantes.html#vetores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Os objetos com multiplos valores de um mesmo tipo sao chamados de vetores. Para criar um objeto vetor inserimos os valores dentro de parenteses separados por virgulas. Virgulas no R servem para separar o codigo. Entao se voce quiser digitar numeros quebrados nunca utilize <strong>virgula</strong>, utilize <strong>ponto</strong>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r-para-iniciantes.html#cb16-1" tabindex="-1"></a>vetor.A <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">10.5</span>, <span class="fl">20.6</span>, <span class="fl">30.2</span>)</span>
<span id="cb16-2"><a href="r-para-iniciantes.html#cb16-2" tabindex="-1"></a>vetor.B <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb16-3"><a href="r-para-iniciantes.html#cb16-3" tabindex="-1"></a>melhores.comidas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;coxinha&quot;</span>,<span class="st">&quot;pastel&quot;</span>,<span class="st">&quot;lasanha&quot;</span>) <span class="co">#Lembre-se, caracteres precisam estar dentro de aspas.</span></span>
<span id="cb16-4"><a href="r-para-iniciantes.html#cb16-4" tabindex="-1"></a></span>
<span id="cb16-5"><a href="r-para-iniciantes.html#cb16-5" tabindex="-1"></a>vetor.A</span>
<span id="cb16-6"><a href="r-para-iniciantes.html#cb16-6" tabindex="-1"></a>vetor.B</span>
<span id="cb16-7"><a href="r-para-iniciantes.html#cb16-7" tabindex="-1"></a>melhores.comidas</span></code></pre></div>
</div>
<div id="funções" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Funções<a href="r-para-iniciantes.html#funções" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>No R, as funcoes servem para processar de alguma forma os dados. O R ja possui algumas funcoes nativas, como por exemplo para calcular a raiz quadrada de um numero. A funcao possui um nome, geralmente associado ao que ela faz, e argumentos que eh o tipo de dado que voce precisa inserir nela para ser calculado. Vamos dar uma olhada na funcao <em>sqrt()</em>. A sigla “sqrt” representa “square root” em ingles. Primeiro vamos rodar a funcao sem argumentos, apenas o <em>sqrt()</em> e depois inserimos o argumento, que nesse caso, eh um numero.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-para-iniciantes.html#cb17-1" tabindex="-1"></a><span class="co">#funcao que calcula raiz quadrada</span></span>
<span id="cb17-2"><a href="r-para-iniciantes.html#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="r-para-iniciantes.html#cb17-3" tabindex="-1"></a><span class="fu">sqrt</span>()</span>
<span id="cb17-4"><a href="r-para-iniciantes.html#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="r-para-iniciantes.html#cb17-5" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">25</span>)</span></code></pre></div>
<p>Note que quando nao colocamos (ou erramos) o argumento, a R vai te retornar um erro, geralmente, explicando o problema.</p>
<p>Existem funcoes dentro do R para todo tipo de coisa! Vamos criar um conjunto de dados e fazer alguns calculos utilizando algumas funcoes.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="r-para-iniciantes.html#cb18-1" tabindex="-1"></a><span class="co">#Notas do terceiro ano A</span></span>
<span id="cb18-2"><a href="r-para-iniciantes.html#cb18-2" tabindex="-1"></a>notas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="fl">6.6</span>, <span class="fl">7.9</span>, <span class="fl">8.9</span>, <span class="dv">0</span>)</span>
<span id="cb18-3"><a href="r-para-iniciantes.html#cb18-3" tabindex="-1"></a></span>
<span id="cb18-4"><a href="r-para-iniciantes.html#cb18-4" tabindex="-1"></a><span class="co">#Qual a media da turma?</span></span>
<span id="cb18-5"><a href="r-para-iniciantes.html#cb18-5" tabindex="-1"></a><span class="fu">mean</span>(notas)</span>
<span id="cb18-6"><a href="r-para-iniciantes.html#cb18-6" tabindex="-1"></a></span>
<span id="cb18-7"><a href="r-para-iniciantes.html#cb18-7" tabindex="-1"></a><span class="co">#Qual a mediana?</span></span>
<span id="cb18-8"><a href="r-para-iniciantes.html#cb18-8" tabindex="-1"></a><span class="fu">median</span>(notas)</span>
<span id="cb18-9"><a href="r-para-iniciantes.html#cb18-9" tabindex="-1"></a></span>
<span id="cb18-10"><a href="r-para-iniciantes.html#cb18-10" tabindex="-1"></a><span class="co">#Qual o desvio padrao das notas?</span></span>
<span id="cb18-11"><a href="r-para-iniciantes.html#cb18-11" tabindex="-1"></a><span class="fu">sd</span>(notas)</span>
<span id="cb18-12"><a href="r-para-iniciantes.html#cb18-12" tabindex="-1"></a></span>
<span id="cb18-13"><a href="r-para-iniciantes.html#cb18-13" tabindex="-1"></a><span class="co">#Qual a menor e a maior nota?</span></span>
<span id="cb18-14"><a href="r-para-iniciantes.html#cb18-14" tabindex="-1"></a><span class="fu">min</span>(notas)</span>
<span id="cb18-15"><a href="r-para-iniciantes.html#cb18-15" tabindex="-1"></a><span class="fu">max</span>(notas)</span>
<span id="cb18-16"><a href="r-para-iniciantes.html#cb18-16" tabindex="-1"></a></span>
<span id="cb18-17"><a href="r-para-iniciantes.html#cb18-17" tabindex="-1"></a><span class="co">#resumo das notas</span></span>
<span id="cb18-18"><a href="r-para-iniciantes.html#cb18-18" tabindex="-1"></a><span class="fu">summary</span>(notas)</span></code></pre></div>
<p>Cada uma dessas funcoes realiza algum calculo em especifico, no caso de <em>summary()</em>, ela realiza o calculo da media, mediana, maximo, minimo e quartis, tudo ao mesmo tempo. Talvez em algum momento voce nao encontre a funcao que voce precisa para determinada tarefa, nesse caso, voce pode criar sua propria funcao! Voce pode criar uma funcao utilizando outras funcoes, para fazer algo especifico para voce. Por enquanto, vamos apenas ser usuario de funcoes e nao criadores. Mas se voce realmente quer saber como criar uma funcao, nao irei te limitar. Abaixo voce encontra um dos exemplos mais simples de funcao. Utilize sua criatividade, seus conhecimentos de objetos, funcoes e vetores para criar alguma funcao. Mas sinta-se a vontade para pular essa parte, uma vez que ela nao eh essencial ao uso do R.</p>
<div id="criando-uma-funcao-opcional" class="section level4 hasAnchor" number="3.2.3.1">
<h4><span class="header-section-number">3.2.3.1</span> Criando uma funcao (opcional)<a href="r-para-iniciantes.html#criando-uma-funcao-opcional" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Vamos imaginar que voce precise criar uma funcao para somar dois numeros. Uma funcao simples mas que vai nos ajudar a entender a estrutura de uma funcao. Para criar uma funcao, precisamos utilizar a funcao chamada de <em>function()</em>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="r-para-iniciantes.html#cb19-1" tabindex="-1"></a><span class="co">#Estrutura de uma funcao:</span></span>
<span id="cb19-2"><a href="r-para-iniciantes.html#cb19-2" tabindex="-1"></a></span>
<span id="cb19-3"><a href="r-para-iniciantes.html#cb19-3" tabindex="-1"></a>nome_da_funcao <span class="ot">&lt;-</span> <span class="cf">function</span>() { }</span>
<span id="cb19-4"><a href="r-para-iniciantes.html#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="r-para-iniciantes.html#cb19-5" tabindex="-1"></a><span class="co">#Criando a funcao soma</span></span>
<span id="cb19-6"><a href="r-para-iniciantes.html#cb19-6" tabindex="-1"></a></span>
<span id="cb19-7"><a href="r-para-iniciantes.html#cb19-7" tabindex="-1"></a>soma <span class="ot">&lt;-</span> <span class="cf">function</span>(n1, n2) {</span>
<span id="cb19-8"><a href="r-para-iniciantes.html#cb19-8" tabindex="-1"></a></span>
<span id="cb19-9"><a href="r-para-iniciantes.html#cb19-9" tabindex="-1"></a>add <span class="ot">&lt;-</span> n1 <span class="sc">+</span> n2</span>
<span id="cb19-10"><a href="r-para-iniciantes.html#cb19-10" tabindex="-1"></a><span class="fu">print</span>(add)</span>
<span id="cb19-11"><a href="r-para-iniciantes.html#cb19-11" tabindex="-1"></a></span>
<span id="cb19-12"><a href="r-para-iniciantes.html#cb19-12" tabindex="-1"></a>}</span></code></pre></div>
<p>Essa eh uma funcao que possui dois argumentos (n1, n2) e utilizando esses argumentos ela realiza um calculo de soma e atribui esse resultado a um objeto que chamamos de “add”. Por fim, utilizamos a funcao <em>print()</em> para mostrar o valor embutido em “add”.</p>
<p>Agora, vamos imaginar que talvez a funcao <em>summary()</em> nao seja o que voce precisa. Voce precisa mesmo eh de uma funcao que te forneca, media, mediana e desvio padrao dos seus dados.</p>
<p>Nesse caso, podemos criar a funcao <em>my_summary()</em> utilizando a funcao <em>function()</em>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="r-para-iniciantes.html#cb20-1" tabindex="-1"></a><span class="co">#Criando a funcao my_summary()</span></span>
<span id="cb20-2"><a href="r-para-iniciantes.html#cb20-2" tabindex="-1"></a></span>
<span id="cb20-3"><a href="r-para-iniciantes.html#cb20-3" tabindex="-1"></a>my_summary <span class="ot">&lt;-</span> <span class="cf">function</span>(v) {</span>
<span id="cb20-4"><a href="r-para-iniciantes.html#cb20-4" tabindex="-1"></a></span>
<span id="cb20-5"><a href="r-para-iniciantes.html#cb20-5" tabindex="-1"></a>media   <span class="ot">&lt;-</span> <span class="fu">mean</span>(v)</span>
<span id="cb20-6"><a href="r-para-iniciantes.html#cb20-6" tabindex="-1"></a>mediana <span class="ot">&lt;-</span> <span class="fu">median</span>(v)</span>
<span id="cb20-7"><a href="r-para-iniciantes.html#cb20-7" tabindex="-1"></a>desvio  <span class="ot">&lt;-</span> <span class="fu">sd</span>(v)</span>
<span id="cb20-8"><a href="r-para-iniciantes.html#cb20-8" tabindex="-1"></a></span>
<span id="cb20-9"><a href="r-para-iniciantes.html#cb20-9" tabindex="-1"></a>resultado <span class="ot">&lt;-</span> <span class="fu">c</span>(media, mediana, desvio)</span>
<span id="cb20-10"><a href="r-para-iniciantes.html#cb20-10" tabindex="-1"></a><span class="fu">print</span>(resultado)</span>
<span id="cb20-11"><a href="r-para-iniciantes.html#cb20-11" tabindex="-1"></a></span>
<span id="cb20-12"><a href="r-para-iniciantes.html#cb20-12" tabindex="-1"></a>}</span></code></pre></div>
<p>Calma, tem muita coisa ai, mas eh tudo o que a gente ja sabe. Na funcao <em>my_summary()</em>, precisamos inserir apenas um argumento do tipo vetor, como por exemplo, nosso objeto “notas”. Esse argumento sera aplicado a tudo que possuir o caractere “v” dentro da funcao. O “v” a gente definiu em function(v). Mais uma vez, as chaves <strong>{}</strong> que abre e fecha contem tudo o que a gente quer que a funcao realize, linha por linha. Primeiro, queremos que a nossa funcao calcule a media e atribua o resultado a um objeto chamado “media”. Segundo, calcular a mediana e atribuir o resultado a um objeto chamado “mediana”, depois o desvio. Depois criamos um vetor chamado de “resultado” que armazena os objetos “media”, “mediana” e “desvio”. Em seguida, pedimos para o R nos mostrar os valores desse vetor “resultado” utilizando a funcao <em>print()</em>.</p>
<p>Vamos usar nossa funcao personalizada para calcular nosso objeto “notas”.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="r-para-iniciantes.html#cb21-1" tabindex="-1"></a><span class="co">#Notas do terceiro ano A</span></span>
<span id="cb21-2"><a href="r-para-iniciantes.html#cb21-2" tabindex="-1"></a>notas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="fl">6.6</span>, <span class="fl">7.9</span>, <span class="fl">8.9</span>, <span class="dv">0</span>)</span>
<span id="cb21-3"><a href="r-para-iniciantes.html#cb21-3" tabindex="-1"></a></span>
<span id="cb21-4"><a href="r-para-iniciantes.html#cb21-4" tabindex="-1"></a><span class="co">#Utilizando a funcao my_summary()</span></span>
<span id="cb21-5"><a href="r-para-iniciantes.html#cb21-5" tabindex="-1"></a></span>
<span id="cb21-6"><a href="r-para-iniciantes.html#cb21-6" tabindex="-1"></a><span class="fu">my_summary</span>(notas)</span></code></pre></div>
<p>Veja que a funcao retornou os valores do nosso vetor, mas apenas isso. Mais para frente, a gente ve como criar funcoes mais elaboradas, como por exemplo para simular gastos de alugueis como anteriormente.</p>
</div>
</div>
</div>
<div id="tabela-de-dados" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Tabela de dados<a href="r-para-iniciantes.html#tabela-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-frame" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Data frame<a href="r-para-iniciantes.html#data-frame" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Data frame nada mais eh do que uma tabela de dados. Vamos direto ao que interessa e usar a funcao <em>data.frame()</em> para criar uma tabela. Iremos criar as notas de 10 alunos e seus respectivos nomes. Se voce ainda estiver na mesma sessao de R, podemos ver que o objeto “notas” ainda esta salvo na janela 3 (Environment e History) e podemos aproveita-lo. De qualquer forma vou recriar “notas”, caso por algum motivo voce SAIU do R, um absurdo, mas acontece.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="r-para-iniciantes.html#cb22-1" tabindex="-1"></a><span class="co">#Criando um data frame contendo as notas e os nomes de cada aluno</span></span>
<span id="cb22-2"><a href="r-para-iniciantes.html#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="r-para-iniciantes.html#cb22-3" tabindex="-1"></a><span class="co">#Primeiro criamos as notas</span></span>
<span id="cb22-4"><a href="r-para-iniciantes.html#cb22-4" tabindex="-1"></a>notas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="fl">6.6</span>, <span class="fl">7.9</span>, <span class="fl">8.9</span>, <span class="dv">0</span>) </span>
<span id="cb22-5"><a href="r-para-iniciantes.html#cb22-5" tabindex="-1"></a></span>
<span id="cb22-6"><a href="r-para-iniciantes.html#cb22-6" tabindex="-1"></a><span class="co">#Segundo criamos os nomes</span></span>
<span id="cb22-7"><a href="r-para-iniciantes.html#cb22-7" tabindex="-1"></a>nomes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Marilia&quot;</span>, <span class="st">&quot;Jonatas&quot;</span>, <span class="st">&quot;Guilherme&quot;</span>, <span class="st">&quot;Camila&quot;</span>, </span>
<span id="cb22-8"><a href="r-para-iniciantes.html#cb22-8" tabindex="-1"></a><span class="st">&quot;Fiuza&quot;</span>, <span class="st">&quot;Brunno&quot;</span>, <span class="st">&quot;Diego&quot;</span>, <span class="st">&quot;Mathews&quot;</span>, <span class="st">&quot;Biny&quot;</span>, <span class="st">&quot;Rebecca&quot;</span>)</span>
<span id="cb22-9"><a href="r-para-iniciantes.html#cb22-9" tabindex="-1"></a></span>
<span id="cb22-10"><a href="r-para-iniciantes.html#cb22-10" tabindex="-1"></a><span class="co">#Terceiro utilizamos a funcao data.frame() para criar a tabela</span></span>
<span id="cb22-11"><a href="r-para-iniciantes.html#cb22-11" tabindex="-1"></a>tabela <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(nomes, notas)</span>
<span id="cb22-12"><a href="r-para-iniciantes.html#cb22-12" tabindex="-1"></a>tabela</span></code></pre></div>
<p>Esse data.frame (tabela), eh uma forma muito simplificada das tabelas que iremos importar de nossos dados reais. Porem, ela nos serve muito bem para entendermos como funciona uma planilha no R.</p>
<p>A partir de agora eu quero que voce perceba uma coisa muito importante e leve isso para a vida. Uma planilha organizada deve ser construida da seguinte forma:</p>
<p>-Variaveis sao colunas;
-Observacoes sao linhas;
-Cada valor na sua celula.</p>
<p>Com essa formatacao de planilha, voce consegue fazer quase tudo no R, para manipulacao de dados, construcao de graficos e analises estatisticas.</p>
<p>Logo, para voce acessar uma variavel de uma tabela, voce pode usar o <strong>$</strong> da seguinte forma:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="r-para-iniciantes.html#cb23-1" tabindex="-1"></a><span class="co">#Acessando uma variavel</span></span>
<span id="cb23-2"><a href="r-para-iniciantes.html#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="r-para-iniciantes.html#cb23-3" tabindex="-1"></a>tabela<span class="sc">$</span>nomes</span>
<span id="cb23-4"><a href="r-para-iniciantes.html#cb23-4" tabindex="-1"></a>tabela<span class="sc">$</span>notas</span></code></pre></div>
<p>Perceba que quando voce digita <strong>tabela$</strong> voce pode apertar a tecla TAB para mostrar e selecionar as variaveis de sua tabela. Caso alguma nota esteja errada e voce queira corrigi-la, voce pode utilizar a funcao <em>fix()</em>. Essa funcao abre uma janela onde voce pode clicar e modificar o valor desejado.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r-para-iniciantes.html#cb24-1" tabindex="-1"></a></span>
<span id="cb24-2"><a href="r-para-iniciantes.html#cb24-2" tabindex="-1"></a><span class="fu">fix</span>(tabela)</span></code></pre></div>
<p>Quse nunca utilizamos a funcao <em>fix()</em> para corrigir os dados, mas eh interessante saber que o R pode abrir novas janelas e criar coisas interativas.</p>
<p>Agora sabendo como acessar as variaveis de uma tabela, voce pode utilizar funcoes para calcular uma variavel especifica do data frame.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="r-para-iniciantes.html#cb25-1" tabindex="-1"></a><span class="fu">mean</span>(tabela<span class="sc">$</span>notas)</span></code></pre></div>
<p>Utilize as funcoes abaixo para calcular mediana, maximo, minimo:</p>
<ul>
<li>median()</li>
<li>max()</li>
<li>min()</li>
<li>summary()</li>
</ul>
</div>
<div id="planilha-de-dados-nativa-do-r" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Planilha de dados nativa do R<a href="r-para-iniciantes.html#planilha-de-dados-nativa-do-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O R possui um banco de dados que nos fornece algumas tabelas de estudo reais o quais podemos utilizar para treinar nossas habilidades. Para isso, precisamos dizer para o R qual banco de dados queremos invocar utilizando a funcao <em>data()</em>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="r-para-iniciantes.html#cb26-1" tabindex="-1"></a><span class="co">#Importando o banco de dados &quot;iris&quot; do R</span></span>
<span id="cb26-2"><a href="r-para-iniciantes.html#cb26-2" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb26-3"><a href="r-para-iniciantes.html#cb26-3" tabindex="-1"></a></span>
<span id="cb26-4"><a href="r-para-iniciantes.html#cb26-4" tabindex="-1"></a><span class="co">#Funcoes exploratorias</span></span>
<span id="cb26-5"><a href="r-para-iniciantes.html#cb26-5" tabindex="-1"></a><span class="fu">head</span>(iris) <span class="co">#Mostra a parte de cima da planilha </span></span>
<span id="cb26-6"><a href="r-para-iniciantes.html#cb26-6" tabindex="-1"></a><span class="fu">tail</span>(iris) <span class="co">#Mostra a parte de baixo</span></span>
<span id="cb26-7"><a href="r-para-iniciantes.html#cb26-7" tabindex="-1"></a><span class="fu">str</span>(iris)  <span class="co">#Mostra os tipos das variaveis</span></span></code></pre></div>
<p>Veja que ao usarmos a funcao <em>str()</em> o R retorna a natureza das variaveis da planilha.</p>
<ul>
<li><em>num</em> significa numerica.</li>
<li><em>Factor</em> significa que eh uma variavel qualitativa com fatores (setosa, versicolor, virginica).</li>
</ul>
<p>As vezes a planilha eh importada com as variaveis mal formatadas e isso pode gerar problemas de reconhecimento por parte do R. Nesse caso, eh sempre interessante realizar a verificacao dos dados utilizando a funcao <em>str()</em> ou outras funcoes similares. Caso o R nao esteja identificando as variaveis corretamente, duas funcoes muito uteis podem ser utilizadas: <em>as.numeric()</em> e <em>as.factor()</em>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="r-para-iniciantes.html#cb27-1" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb27-2"><a href="r-para-iniciantes.html#cb27-2" tabindex="-1"></a></span>
<span id="cb27-3"><a href="r-para-iniciantes.html#cb27-3" tabindex="-1"></a><span class="co">#Convertendo variavel para numerica</span></span>
<span id="cb27-4"><a href="r-para-iniciantes.html#cb27-4" tabindex="-1"></a>iris<span class="sc">$</span>Sepal.Length <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(iris<span class="sc">$</span>Sepal.Length)</span>
<span id="cb27-5"><a href="r-para-iniciantes.html#cb27-5" tabindex="-1"></a></span>
<span id="cb27-6"><a href="r-para-iniciantes.html#cb27-6" tabindex="-1"></a><span class="co">#Convertendo variavel para fator</span></span>
<span id="cb27-7"><a href="r-para-iniciantes.html#cb27-7" tabindex="-1"></a>iris<span class="sc">$</span>Species <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(iris<span class="sc">$</span>Species)</span></code></pre></div>
<p>Basicamente voce ta transformando em numerica a variavel Sepal length da planilha iris e atribuindo a ela mesma. Dessa forma, voce faz a alteracao de forma permanente. A mesma coisa ocorre com as.factor.</p>
<p>Vamos brincar um pouco com a planilha iris. Primeiro veja que ela esta construida de forma organizada (variaveis nas colunas, observacoes nas linhas, cada celula um valor). Podemos entao realizar o summary() para saber a media, mediana, maximo e minimo da largura da petala (Petal.Width).</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r-para-iniciantes.html#cb28-1" tabindex="-1"></a><span class="fu">summary</span>(iris<span class="sc">$</span>Petal.Width)</span></code></pre></div>
<p>Porem note que existe 3 especies diferentes. A funcao <em>summary()</em> nao leva isso em consideracao. O ideal seria calcular o <em>summary()</em> para cada especie. Para isso temos uma funcao muito legal chamada <em>tapply()</em>, onde: o primeiro argumento eh a variavel numerica, o segundo a variavel com os fatores, e o terceiro argumento eh a funcao que voce quer aplicar.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="r-para-iniciantes.html#cb29-1" tabindex="-1"></a><span class="fu">tapply</span>(iris<span class="sc">$</span>Petal.Width, iris<span class="sc">$</span>Species, summary)</span></code></pre></div>
</div>
<div id="importando-sua-planilha" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Importando sua planilha<a href="r-para-iniciantes.html#importando-sua-planilha" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>No RStudio podemos importar uma planilha do formato excel (xlsx) utilizando o botao na janela Environment (superior direita):</p>
<p>Environment &gt; Import Dataset &gt; From excel</p>
<p>Acho pouco eficiente ensinar a importar dados de um diretorio. Acho pouco pratico, uma vez que temos o botao de importar. Ao inves disso, irei treina-lo a utilizar projetos de R reprodutiveis e organizados. Ao trabalhar no R, voce seguira um protocolo basico de como tratar os dados a serem analisados. Ao longo do tempo, voce sera capaz de otimizar esse protocolo e aplicar para quase todo tipo de dado que voce possuir. De qualquer forma, saiba que o R trabalha com uma pasta especifica chamada de diretorio, e para saber qual eh o seu diretorio padrao, utilize a funcao <em>getwd()</em>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="r-para-iniciantes.html#cb30-1" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>Ao executar esse funcao, o R te retornara o caminho da pasta do diretorio padrao atual que provavelmente eh a pasta “documentos” do seu computador.</p>
<p>Para baixar uma planilha de dados ficticios clique no link abaixo e tente importa-la atraves do botao <strong>Import from excel</strong>.</p>
<p><a href="data/fake_data.xlsx">Clique aqui para baixar a planilha ficticia</a></p>
</div>
</div>
<div id="graficos" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Graficos<a href="r-para-iniciantes.html#graficos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Agora comeca a parte divertida! A visualizacao de dados no R tem um potencial quase infinito devido as sua grande capacidade de personalizar cada pedacinho da figura.</p>
<div id="grafico-de-histograma" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Grafico de histograma<a href="r-para-iniciantes.html#grafico-de-histograma" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Esse grafico nos mostra a frequencia dos valores da variavel de interesse, como por exemplo comprimento da petala das flores do banco de dados iris.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="r-para-iniciantes.html#cb31-1" tabindex="-1"></a><span class="co">#Importando banco de dados &quot;iris&quot;</span></span>
<span id="cb31-2"><a href="r-para-iniciantes.html#cb31-2" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb31-3"><a href="r-para-iniciantes.html#cb31-3" tabindex="-1"></a></span>
<span id="cb31-4"><a href="r-para-iniciantes.html#cb31-4" tabindex="-1"></a><span class="co">#Criando histograma</span></span>
<span id="cb31-5"><a href="r-para-iniciantes.html#cb31-5" tabindex="-1"></a><span class="fu">hist</span>(iris<span class="sc">$</span>Sepal.Length)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk1"></span>
<img src="_main_files/figure-html/nome-do-chunk1-1.png" alt="Gráficos com R base" width="672" />
<p class="caption">
Figure 3.1: Gráficos com R base
</p>
</div>
<p>Simples nao eh? Mas podemos modificar ainda mais nosso grafico. Alterar cores, nomes dos eixos, titulo, etc. Vamos ver mais argumentos com o grafico de dispersao de pontos.</p>
</div>
<div id="grafico-de-dispersao" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Grafico de dispersao<a href="r-para-iniciantes.html#grafico-de-dispersao" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Esse grafico nos mostra a relacao entre duas variaveis continuas. Vamos utilizar o banco de dados “iris” para construir e visualizar alguns graficos. Para construir um grafico de dispersao utilizamos a funcao <em>plot()</em>. Note que a funcao plot, possui varios argumentos que podemos ir adicionando para personalizar o grafico. Alem disso, para deixar o codigo mais organizado, sempre apos a virgula de um argumento, pulamos a linha, de forma que cada argumento fique numa linha.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="r-para-iniciantes.html#cb32-1" tabindex="-1"></a><span class="co">#Cria o grafico basico</span></span>
<span id="cb32-2"><a href="r-para-iniciantes.html#cb32-2" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Width, iris<span class="sc">$</span>Petal.Width)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk2-1"></span>
<img src="_main_files/figure-html/nome-do-chunk2-1.png" alt="Gráficos com R base" width="672" />
<p class="caption">
Figure 3.2: Gráficos com R base
</p>
</div>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="r-para-iniciantes.html#cb33-1" tabindex="-1"></a><span class="co">#adiciona o argumento para mudar o nome do eixo y</span></span>
<span id="cb33-2"><a href="r-para-iniciantes.html#cb33-2" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Width, iris<span class="sc">$</span>Petal.Width, </span>
<span id="cb33-3"><a href="r-para-iniciantes.html#cb33-3" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Petal Width&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk2-2"></span>
<img src="_main_files/figure-html/nome-do-chunk2-2.png" alt="Gráficos com R base" width="672" />
<p class="caption">
Figure 3.3: Gráficos com R base
</p>
</div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="r-para-iniciantes.html#cb34-1" tabindex="-1"></a><span class="co">#adiciona o argumento para mudar o nome do eixo x</span></span>
<span id="cb34-2"><a href="r-para-iniciantes.html#cb34-2" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Width, iris<span class="sc">$</span>Petal.Width, </span>
<span id="cb34-3"><a href="r-para-iniciantes.html#cb34-3" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Petal Width&quot;</span>, </span>
<span id="cb34-4"><a href="r-para-iniciantes.html#cb34-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Sepal Width&quot;</span></span>
<span id="cb34-5"><a href="r-para-iniciantes.html#cb34-5" tabindex="-1"></a>     )</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk2-3"></span>
<img src="_main_files/figure-html/nome-do-chunk2-3.png" alt="Gráficos com R base" width="672" />
<p class="caption">
Figure 3.4: Gráficos com R base
</p>
</div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="r-para-iniciantes.html#cb35-1" tabindex="-1"></a><span class="co">#argumento para mudar a cor dos pontos</span></span>
<span id="cb35-2"><a href="r-para-iniciantes.html#cb35-2" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Width, iris<span class="sc">$</span>Petal.Width, </span>
<span id="cb35-3"><a href="r-para-iniciantes.html#cb35-3" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Petal Width&quot;</span>, </span>
<span id="cb35-4"><a href="r-para-iniciantes.html#cb35-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Sepal Width&quot;</span>,</span>
<span id="cb35-5"><a href="r-para-iniciantes.html#cb35-5" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;blue&quot;</span></span>
<span id="cb35-6"><a href="r-para-iniciantes.html#cb35-6" tabindex="-1"></a>     )</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk2-4"></span>
<img src="_main_files/figure-html/nome-do-chunk2-4.png" alt="Gráficos com R base" width="672" />
<p class="caption">
Figure 3.5: Gráficos com R base
</p>
</div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r-para-iniciantes.html#cb36-1" tabindex="-1"></a><span class="co">#argumento para mudar o formato dos pontos</span></span>
<span id="cb36-2"><a href="r-para-iniciantes.html#cb36-2" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Width, iris<span class="sc">$</span>Petal.Width, </span>
<span id="cb36-3"><a href="r-para-iniciantes.html#cb36-3" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Petal Width&quot;</span>, </span>
<span id="cb36-4"><a href="r-para-iniciantes.html#cb36-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Sepal Width&quot;</span>,</span>
<span id="cb36-5"><a href="r-para-iniciantes.html#cb36-5" tabindex="-1"></a>     <span class="at">col =</span> <span class="dv">3</span>,</span>
<span id="cb36-6"><a href="r-para-iniciantes.html#cb36-6" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">2</span></span>
<span id="cb36-7"><a href="r-para-iniciantes.html#cb36-7" tabindex="-1"></a>     )</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk2-5"></span>
<img src="_main_files/figure-html/nome-do-chunk2-5.png" alt="Gráficos com R base" width="672" />
<p class="caption">
Figure 3.6: Gráficos com R base
</p>
</div>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="r-para-iniciantes.html#cb37-1" tabindex="-1"></a><span class="co">#argumento para adicionar um titulo no grafico</span></span>
<span id="cb37-2"><a href="r-para-iniciantes.html#cb37-2" tabindex="-1"></a><span class="fu">plot</span>(iris<span class="sc">$</span>Sepal.Width, iris<span class="sc">$</span>Petal.Width, </span>
<span id="cb37-3"><a href="r-para-iniciantes.html#cb37-3" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Petal Width&quot;</span>, </span>
<span id="cb37-4"><a href="r-para-iniciantes.html#cb37-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Sepal Width&quot;</span>,</span>
<span id="cb37-5"><a href="r-para-iniciantes.html#cb37-5" tabindex="-1"></a>     <span class="at">col =</span> <span class="dv">3</span>,</span>
<span id="cb37-6"><a href="r-para-iniciantes.html#cb37-6" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">2</span>,</span>
<span id="cb37-7"><a href="r-para-iniciantes.html#cb37-7" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Titulo do grafico&quot;</span></span>
<span id="cb37-8"><a href="r-para-iniciantes.html#cb37-8" tabindex="-1"></a>     )</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk2-6"></span>
<img src="_main_files/figure-html/nome-do-chunk2-6.png" alt="Gráficos com R base" width="672" />
<p class="caption">
Figure 3.7: Gráficos com R base
</p>
</div>
</div>
<div id="grafico-boxplot" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Grafico boxplot<a href="r-para-iniciantes.html#grafico-boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Para criar o grafico de boxplot, iremos utilizar a variavel numerica Sepal.Width do banco de dados iris em relacao a variavel Species. Note que na funcao plot, as duas variaveis (argumentos) eram separados por virgula, aqui utilizamos o <strong>~</strong> para relacionar a variavel numerica com a categorica.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="r-para-iniciantes.html#cb38-1" tabindex="-1"></a><span class="co">#Importa o banco de dados iris</span></span>
<span id="cb38-2"><a href="r-para-iniciantes.html#cb38-2" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb38-3"><a href="r-para-iniciantes.html#cb38-3" tabindex="-1"></a></span>
<span id="cb38-4"><a href="r-para-iniciantes.html#cb38-4" tabindex="-1"></a><span class="co">#Cria o grafico de boxplot basico</span></span>
<span id="cb38-5"><a href="r-para-iniciantes.html#cb38-5" tabindex="-1"></a><span class="fu">boxplot</span>(iris<span class="sc">$</span>Sepal.Width <span class="sc">~</span> iris<span class="sc">$</span>Species)</span></code></pre></div>
<div class="figure">
<img src="_main_files/figure-html/3_basic_boxplot-1.png" alt="Boxplot com R base utilizando o banco de dados iris" width="672" />
<p class="caption">
(#fig:3_basic_boxplot-1)Boxplot com R base utilizando o banco de dados iris
</p>
</div>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="r-para-iniciantes.html#cb39-1" tabindex="-1"></a><span class="co">#Boxplot personalizado</span></span>
<span id="cb39-2"><a href="r-para-iniciantes.html#cb39-2" tabindex="-1"></a><span class="fu">boxplot</span>(iris<span class="sc">$</span>Sepal.Width <span class="sc">~</span> iris<span class="sc">$</span>Species,</span>
<span id="cb39-3"><a href="r-para-iniciantes.html#cb39-3" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&quot;Petal Width&quot;</span>, </span>
<span id="cb39-4"><a href="r-para-iniciantes.html#cb39-4" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Species&quot;</span>,</span>
<span id="cb39-5"><a href="r-para-iniciantes.html#cb39-5" tabindex="-1"></a>      <span class="at">col =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="st">&quot;tomato&quot;</span>),</span>
<span id="cb39-6"><a href="r-para-iniciantes.html#cb39-6" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">&quot;Titulo do grafico&quot;</span></span>
<span id="cb39-7"><a href="r-para-iniciantes.html#cb39-7" tabindex="-1"></a>      )</span></code></pre></div>
<div class="figure">
<img src="_main_files/figure-html/3_basic_boxplot-2.png" alt="Boxplot com R base utilizando o banco de dados iris" width="672" />
<p class="caption">
(#fig:3_basic_boxplot-2)Boxplot com R base utilizando o banco de dados iris
</p>
</div>
<p>Perceba que o argumento col pode ser um vetor, e pode receber mais de um valor. Nesse caso, demos uma cor para cada fator de Species. Tente substituir os numeros por outros, ou colocar o nome das principais cores como: red, green, blue, yellow… So nao esqueca de colocar entre aspas.</p>
</div>
<div id="grafico-de-barras" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Grafico de barras<a href="r-para-iniciantes.html#grafico-de-barras" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Para criar um grafico de barras de contagem, vamos criar nosso proprio data frame. Imagine que queremos tabular a contagem total de ectoparasitas (piolho) de ave de cada parte corporal. Como eh algo simples, podemos criar direto no R.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="r-para-iniciantes.html#cb40-1" tabindex="-1"></a><span class="co">#Criando quantidade total de parasitas</span></span>
<span id="cb40-2"><a href="r-para-iniciantes.html#cb40-2" tabindex="-1"></a>qt_parasita <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">29</span>, <span class="dv">4</span>)</span>
<span id="cb40-3"><a href="r-para-iniciantes.html#cb40-3" tabindex="-1"></a></span>
<span id="cb40-4"><a href="r-para-iniciantes.html#cb40-4" tabindex="-1"></a><span class="co">#Criando parte corporal da ave</span></span>
<span id="cb40-5"><a href="r-para-iniciantes.html#cb40-5" tabindex="-1"></a>parte_corporal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;cabeca&quot;</span>, <span class="st">&quot;asa&quot;</span>, <span class="st">&quot;barriga&quot;</span>, <span class="st">&quot;cauda&quot;</span>)</span>
<span id="cb40-6"><a href="r-para-iniciantes.html#cb40-6" tabindex="-1"></a></span>
<span id="cb40-7"><a href="r-para-iniciantes.html#cb40-7" tabindex="-1"></a><span class="co">#Criando tabela</span></span>
<span id="cb40-8"><a href="r-para-iniciantes.html#cb40-8" tabindex="-1"></a>dados_parasita <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(qt_parasita, parte_corporal)</span>
<span id="cb40-9"><a href="r-para-iniciantes.html#cb40-9" tabindex="-1"></a></span>
<span id="cb40-10"><a href="r-para-iniciantes.html#cb40-10" tabindex="-1"></a><span class="co"># Cria ndo gráfico de barras</span></span>
<span id="cb40-11"><a href="r-para-iniciantes.html#cb40-11" tabindex="-1"></a>grafico <span class="ot">&lt;-</span> <span class="fu">barplot</span>(dados_parasita<span class="sc">$</span>qt_parasita, </span>
<span id="cb40-12"><a href="r-para-iniciantes.html#cb40-12" tabindex="-1"></a>                   <span class="at">names.arg =</span> dados_parasita<span class="sc">$</span>parte_corporal,</span>
<span id="cb40-13"><a href="r-para-iniciantes.html#cb40-13" tabindex="-1"></a>                   <span class="at">xlab =</span> <span class="st">&quot;Parte do Corpo&quot;</span>,</span>
<span id="cb40-14"><a href="r-para-iniciantes.html#cb40-14" tabindex="-1"></a>                   <span class="at">ylab =</span> <span class="st">&quot;Quantidade de Parasitas&quot;</span>,</span>
<span id="cb40-15"><a href="r-para-iniciantes.html#cb40-15" tabindex="-1"></a>                   <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">35</span>), <span class="co">#define o limite do eixo y (de 0 a 35)</span></span>
<span id="cb40-16"><a href="r-para-iniciantes.html#cb40-16" tabindex="-1"></a>                   <span class="at">col =</span> <span class="st">&quot;lightgreen&quot;</span>,</span>
<span id="cb40-17"><a href="r-para-iniciantes.html#cb40-17" tabindex="-1"></a>                   <span class="at">border =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb40-18"><a href="r-para-iniciantes.html#cb40-18" tabindex="-1"></a></span>
<span id="cb40-19"><a href="r-para-iniciantes.html#cb40-19" tabindex="-1"></a><span class="co"># Adicionando os números acima das barras</span></span>
<span id="cb40-20"><a href="r-para-iniciantes.html#cb40-20" tabindex="-1"></a><span class="fu">text</span>(grafico, dados_parasita<span class="sc">$</span>qt_parasita, </span>
<span id="cb40-21"><a href="r-para-iniciantes.html#cb40-21" tabindex="-1"></a><span class="at">labels =</span> dados_parasita<span class="sc">$</span>qt_parasita, <span class="at">pos =</span> <span class="dv">3</span>, <span class="at">cex =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<div class="figure">
<img src="_main_files/figure-html/4_basic_hist-1.png" alt="Grafico de barras de contagem com R base utilizando banco de dados criado" width="672" />
<p class="caption">
(#fig:4_basic_hist)Grafico de barras de contagem com R base utilizando banco de dados criado
</p>
</div>
<p>Faca as seguintes modificacoes no codigo e veja o que acontece:</p>
<ul>
<li>Veja o que acontece se voce deletar a linha completa do argumento names.arg.<br />
</li>
<li>Troque o valor 35 de ylim por 50.<br />
</li>
<li>No argumento border, troque “black” por “red” e depois “white”.<br />
</li>
<li>Na funcao text(), troque pos = 3, por pos = 1.<br />
(rode o grafico antes para nao sobrepor os numeros)</li>
</ul>
<p>Eh possivel fazer muitos outros tipos de graficos, utilizando diferentes funcoes. Mas a ideia desse capitulo eh ensinar a utilizar o R, e nao a criar graficos. Entao vamos com calma, pois quando voce pensar que nao, ja foi.</p>
</div>
</div>
<div id="pacotes" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Pacotes<a href="r-para-iniciantes.html#pacotes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Agora ja podemos comecar a expandir nosso universo do R. Tudo que fizemos ate agora foi utilizando o proprio R base. A partir de agora, iremos incluir um conjunto de novas funcoes atraves dos pacotes de R.
Antes de tudo, precisamos instalar o pacote que queremos utilizar, e para isso existe duas formas:</p>
<ul>
<li>Utilizando o botao <em>Tools</em> do RStudio.<br />
</li>
<li>Utilizando a funcao <em>install.packages(“nome_do_pacote”)</em></li>
</ul>
<p>Vamos instalar o pacote “lattice” para criarmos uns graficos diferentes do que fizemos anteriormente.</p>
<p>Utilizando o botao <em>Tools</em> do RStudio click em: <strong>Tools &gt; Install package &gt; digite o nome “lattice”.</strong> Ao comecar a digitar o R ira sugerir opcoes de pacotes com as iniciais que voce digitou. Depois clica em “instalar”.</p>
<p>Utilizando a funcao <em>install.packages()</em></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="r-para-iniciantes.html#cb41-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;lattice&quot;</span>)</span></code></pre></div>
<p>O processo de instalacao mostra no console varios processos e enquanto isso acontece, um icone de “stop” vermelho aparece na parte superior direita da janela do console. O processo so termina quando esse icone some e um aviso aparece:</p>
<p><img src="img/install_package.png" /></p>
<p>Pacote instalado, agora eh so dizer que queremos utilizar o pacote. O processo de instalacao em um determinado computador so precisa ser feito uma vez. Porem, toda vez, voce precisa dizer para o R, qual pacote voce estar utilizando. Para isso utilizamos a funcao <em>library()</em>.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r-para-iniciantes.html#cb42-1" tabindex="-1"></a><span class="co">#Carregando o pacote lattice</span></span>
<span id="cb42-2"><a href="r-para-iniciantes.html#cb42-2" tabindex="-1"></a><span class="fu">library</span>(lattice)</span></code></pre></div>
<p>Se voce carregou o pacote e o R nao te retornou nenhum erro, ta tudo certo. As vezes ele te retorna um Warning message, tambem esta tudo certo. Vamos adiante.</p>
<p>O pacote lattice que acabamos de instalar nos fornece varias funcoes para criacao de graficos. Tenha em mente que existem milhares de pacotes cada um trazendo um conjunto de funcoes e banco de dados de diferentes contextos, tanto para criar graficos, quanto para realizar modelos estatisticos avancados.</p>
<p>Vamos criar alguns graficos utilizando as funcoes que o pacote lattice nos forneceu.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="r-para-iniciantes.html#cb43-1" tabindex="-1"></a><span class="co">#Se o pacote já estiver instalado, você só precisa carregar o pacote</span></span>
<span id="cb43-2"><a href="r-para-iniciantes.html#cb43-2" tabindex="-1"></a><span class="fu">library</span>(lattice) </span></code></pre></div>
<pre><code>## Warning: package &#39;lattice&#39; was built under R version 4.3.2</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="r-para-iniciantes.html#cb45-1" tabindex="-1"></a><span class="co"># Gráfico de dispersão condicionado por uma variável</span></span>
<span id="cb45-2"><a href="r-para-iniciantes.html#cb45-2" tabindex="-1"></a><span class="fu">xyplot</span>(Sepal.Length <span class="sc">~</span> Sepal.Width <span class="sc">|</span> Species, <span class="at">data =</span> iris,</span>
<span id="cb45-3"><a href="r-para-iniciantes.html#cb45-3" tabindex="-1"></a>       <span class="at">main =</span> <span class="st">&quot;Scatterplot Condicionado por Espécie&quot;</span>,</span>
<span id="cb45-4"><a href="r-para-iniciantes.html#cb45-4" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">&quot;Largura da Sépala&quot;</span>, </span>
<span id="cb45-5"><a href="r-para-iniciantes.html#cb45-5" tabindex="-1"></a>       <span class="at">ylab =</span> <span class="st">&quot;Comprimento da Sépala&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk-1"></span>
<img src="_main_files/figure-html/nome-do-chunk-1.png" alt="Gráficos com Lattice" width="672" />
<p class="caption">
Figure 3.8: Gráficos com Lattice
</p>
</div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-para-iniciantes.html#cb46-1" tabindex="-1"></a><span class="co"># Histograma condicionado por uma variável</span></span>
<span id="cb46-2"><a href="r-para-iniciantes.html#cb46-2" tabindex="-1"></a><span class="fu">histogram</span>(<span class="sc">~</span> Petal.Length <span class="sc">|</span> Species, <span class="at">data =</span> iris,</span>
<span id="cb46-3"><a href="r-para-iniciantes.html#cb46-3" tabindex="-1"></a>          <span class="at">main =</span> <span class="st">&quot;Histograma Condicionado por Espécie&quot;</span>,</span>
<span id="cb46-4"><a href="r-para-iniciantes.html#cb46-4" tabindex="-1"></a>          <span class="at">xlab =</span> <span class="st">&quot;Comprimento da Pétala&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:nome-do-chunk-2"></span>
<img src="_main_files/figure-html/nome-do-chunk-2.png" alt="Gráficos com Lattice" width="672" />
<p class="caption">
Figure 3.9: Gráficos com Lattice
</p>
</div>
<p>Acho que ja deu pra entender como o R funciona ne? Nos proximos capitulos, voce vai aprender a como trabalhar de forma eficiente no R, seguindo um fluxo de trabalho eficiente, e o melhor de tudo, reproduzivel.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pré-requisitos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="como-trabalhar-no-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-cross-refs.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
